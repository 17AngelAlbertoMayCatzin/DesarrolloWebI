<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
    <meta name="Viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Angel alberto May Catzin">
    <meta name="keys" content="formularios, DOM">
    <title>EXAMEN DOM</title>
    <style>
        ul {
            font-weight: bold;
            list-style: none;
            padding: 0;
            margin: 0;
        }

        form li + li {
            margin-top: 1em;
            align-items: center;
        }
        body{
            margin: 0 auto;
        }
        .parrafosT {
            text-align: center;
            font-family: 'Times New Roman', Times, serif;
            font-weight: bold;
            margin: 0 auto;
            width: 300px;
            padding: .5em;
            border: 1px solid cornsilk;
            border-radius: 1em;
            background-color: rgb(108, 189, 192);
        }
        .contenedor {
            font-weight: bold;
            margin: 0 auto;
            width: 350px;
            padding: 1em;
            border: 1px solid cornsilk;
            background-color: rgb(122, 213, 216);
            border-radius: 1em;
        }

    </style>
    
</head>
<body>    
    <form class="contenedor">
        <div class="parrafosT">
            <p>Usando DOM y formularios</p>
        </div>
        <br>
        <ul>
            <li>
                <div style="background: cornsilk; text-align: center; border-radius: 2pt;">Agregar Personaje Favorito</div>
                <br>
                <label>Personaje favorito:</label>
                <input type="text" id="nombrePersonaje" name="nomPerFavorito">
            </li>
            <li id="button">
                <button type="button" onclick="validarDPersonaje();">Agregar Personaje</button>
            </li>  
            <li>
                <div style="background: cornsilk; text-align: center; border-radius: 2pt;">Agregar Pelicula Favorita</div>
                <br>
                <label>Pelicula Favorita:</label>
                <input type="text" id="peliFavorita" name="peliculaFavorita">
            </li>
            <li id="button">
                <button type="button" onclick="validarPeli();">Agregar</button>
            </li>
            <br>
            <div style="background: cornsilk; text-align: center; border-radius: 2pt;">Cambiar Datos Personales</div>
            <br>
            <li>
               <label>Nombre:</label>
               <input type="text" id="nombre" name="nombre">
            </li>
            <li>
                <label>Número de control:</label>
                <input type="text" id="noControl" name="numeroControl">
            </li>
            <li id="button">
                <button type="button" onclick="validarDatosP();">Cambiar</button>
            </li>  
        </ul>
    </form>
    <section class="contenedor">
        <div class="parrafosT">
            <p>Datos Personales</p>
        </div>
        <p id="nombrePersona">Nombre: </p>

        <p id="numeroDeControl">Número de control: </p>
    </section>
    <section class="contenedor">
        <div class="parrafosT">
            <p>Personajes favoritos: </p>
        </div>
        <ol id="elementoPersonajes">
        </ol>
    </section>
    <section class="contenedor">
        <div class="parrafosT">
            <p>Películas favoritas</p>
        </div>
        <ol id="elementosPelis">
            <li id="error" onclick="remove()" >Shrek</li>
            <li>Un mundo feliz</li>
            <li>La vida inútil de Pito Pérez</li>
            <li>El club de la pelea</li>
        </ol>
    </section>
    
        <script>
            //Declaración de variables
            var nombre;
            var numeroControl;
            var nombrePersonaje;
            var peliculaFavorita;
            var contenidoNum;
            var contenidoNom;
            var parrafoNum;
            var parrafoNom;
            var listaPelis;
            var contenidoLiPelis
            var elementoPelis
            //var elementoPelis
            //Declración de expresiones regulares
            var expR1 = new RegExp('^[A-Z]+','i');
            var expR2 = new RegExp('^[0-9]');
            //Dom para nombre por defecto
            contenidoNom = document.createTextNode('Angel Alberto May Catzin');
            parrafoNom=document.getElementById('nombrePersona');
            parrafoNom.appendChild(contenidoNom);
            //DOM para numero de control por defecto
            contenidoNum = document.createTextNode('17390350');
            parrafoNum=document.getElementById('numeroDeControl');
            parrafoNum.appendChild(contenidoNum);
            //Declaración del array de mis peliculas favoritas
            var pelisFavoritas = new Array("Avengers: Infinity War: ", "Saga: Que paso ayer", "Saga: rapidos y furisos");
            mostrarMisPeliculas();
            //Función para validar personaje
            function validarDPersonaje(){
            nombrePersonaje= document.getElementById("nombrePersonaje").value;
                if (expR1.test(nombrePersonaje)==true){
                    agregarPersonaje()
                } else{
                    alert("Nombre invalido")
                }
    
                function agregarPersonaje(){
                    var lista = document.createElement("LI");
                    lista.className='eliminar'
                    var contenidoLi = document.createTextNode(nombrePersonaje);
                    var elemento=document.getElementById('elementoPersonajes');
                    lista.appendChild(contenidoLi)
                    elemento.appendChild(lista)
                }

     
            }

            function validarPeli(){
                peliculaFavorita= document.getElementById("peliFavorita").value;
                if (expR1.test(peliculaFavorita)==true){
                    agregarPeliculas();
                } else{
                    alert('Nombre de Pelicula invalida');
                }

            }
            //Función para validar los datos: nombre y numero de control
            //En caso que usted desee agregar su nombre y numero de control
            function validarDatosP(){
                nombre= document.getElementById("nombre").value;
                numeroControl= document.getElementById("noControl").value;
                if (expR1.test(nombre)==true && expR2.test(numeroControl)==true ){
                     agregarDatosPersonales()
                } else{
                    alert("Datos invalidos")
                }
                function agregarDatosPersonales(){
                    parrafoNom=document.getElementById('nombrePersona');
                    parrafoNom.removeChild(parrafoNom.lastChild);
                    contenidoNom = document.createTextNode(nombre);
                    parrafoNom.appendChild(contenidoNom);  
                    parrafoNum=document.getElementById('numeroDeControl');
                    parrafoNum.removeChild(parrafoNum.lastChild);
                    contenidoNum = document.createTextNode(numeroControl);
                    parrafoNum.appendChild(contenidoNum);
                    
                }
            }
            function agregarPeliculas(){
                listaPelis = document.createElement("LI");
                contenidoLiPelis = document.createTextNode(peliculaFavorita);
                elementoPelis=document.getElementById('elementosPelis');
                listaPelis.appendChild(contenidoLiPelis)
                elementoPelis.appendChild(listaPelis)
            }
            function mostrarMisPeliculas(){
                pelisFavoritas.forEach( function(valor) {
                listaPelis = document.createElement("LI");
                contenidoLiPelis = document.createTextNode(valor);
                elementoPelis=document.getElementById('elementosPelis');
                listaPelis.appendChild(contenidoLiPelis)
                elementoPelis.appendChild(listaPelis)
                });
            }
            function remove(){
                var node=document.getElementById('error');
                node.parentNode.removeChild(node);
            }
        </script>
</body>
</html>
