<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
    <meta name="Viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Angel alberto May Catzin">
    <meta name="keys" content="formularios, DOM">
    <title>EXAMEN DOM</title>
    <style>
        #formulario {
            /* Centrar el formulario en la página */
            margin: 0 auto;
            width: 400px;
            /* Esquema del formulario */
            padding: 1em;
            border: 1px solid #CCC;
            border-radius: 1em;
        }

        ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        form li + li {
            margin-top: 1em;
        }
        body{
            margin: 0 auto;
            width: 400px;
        }
    </style>
    
</head>
<body>
    <form id="formulario">
        <ul>
            <li>
                <label>Personaje favorito:</label>
                <input type="text" id="nombrePersonaje" name="nomPerFavorito">
             </li>
             <li id="button">
                <button type="button" onclick="validarDPersonaje();">Agregar Personaje</button>
              </li>  
              <li>
                <label>Pelicula Favorita:</label>
                <input type="text" id="peliFavorita" name="peliculaFavorita">
             </li>
             <li id="button">
                <button type="button" onclick="validarPeli();">Agregar Pelicula</button>
              </li>  
             <li>
               <label>Nombre:</label>
               <input type="text" id="nombre" name="nombre">
            </li>
            <li>
                <label>Número de control:</label>
                <input type="text" id="noControl" name="numeroControl">
            </li>
            <li id="button">
                <button type="button" onclick="validarDatosP();">Agregar nombre y control</button>
              </li>  
        </ul>
    </form>
    <p>Usando DOM y formularios</p>

    <p id="nombrePersona">Nombre: </p>

    <p id="numeroDeControl">Número de control: </p>

    <p>Personajes favoritos: </p>
    <ol id="elementoPersonajes">

    </ol>

    <p>Películas favoritas</p>

    <ol>
            <li>Shrek</li>

            <li>Un mundo feliz</li>

            <li>La vida inútil de Pito Pérez</li>

            <li>El club de la pelea</li>
        </ol>
        <script>
            //Declaración de variables
            var nombre;
            var numeroControl;
            var nombrePersonaje;
            var peliculaFavorita;
            var contenidoNum;
            var contenidoNom;
            var parrafoNum;
            var parrafoNom;
            //Declración de expresiones regulares
            var expR1 = new RegExp('^[A-Z]+','i');
            var expR2 = new RegExp('^[0-9]');
            //Dom para nombre
            contenidoNom = document.createTextNode('Angel Alberto May Catzin');
            parrafoNom=document.getElementById('nombrePersona');
            parrafoNom.appendChild(contenidoNom);
            //DOM para numero de control
            contenidoNum = document.createTextNode('17390350');
            parrafoNum=document.getElementById('numeroDeControl');
            parrafoNum.appendChild(contenidoNum);
            //Función para validar personaje
            function validarDPersonaje(){
            nombrePersonaje= document.getElementById("nombrePersonaje").value;
                if (expR1.test(nombrePersonaje)==true){
                    agregarPersonaje()
                } else{
                    alert("Nombre invalido")
                }
                
    
                function agregarPersonaje(){
                    var lista = document.createElement("LI");
                    var contenidoLi = document.createTextNode(nombrePersonaje);
                    var elemento=document.getElementById('elementoPersonajes');
                    lista.appendChild(contenidoLi)
                    elemento.appendChild(lista)
                }

     
            }

            function validarPeli(){
                peliculaFavorita= document.getElementById("peliFavorita").value;
                if (expR1.test(peliculaFavorita)==true){
                    //agregarPelicula();
                } else{
                    alert('Nombre de Pelicula invalida');
                }

            }
            //Función para validar los datos: nombre y numero de control
            //En caso que usted desee agregar su nombre y numero de control
            function validarDatosP(){
                nombre= document.getElementById("nombre").value;
                numeroControl= document.getElementById("noControl").value;
                if (expR1.test(nombre)==true && expR2.test(numeroControl)==true ){
                     agregarDatosPersonales()
                } else{
                    alert("Datos invalidos")
                }
                function agregarDatosPersonales(){
                    parrafoNom=document.getElementById('nombrePersona');
                    parrafoNom.removeChild(parrafoNom.lastChild);
                    contenidoNom = document.createTextNode(nombre);
                    parrafoNom.appendChild(contenidoNom);  
                    parrafoNum=document.getElementById('numeroDeControl');
                    parrafoNum.removeChild(parrafoNum.lastChild);
                    contenidoNum = document.createTextNode(numeroControl);
                    parrafoNum.appendChild(contenidoNum);
                    
                }
            }
        </script>
</body>
</html>
